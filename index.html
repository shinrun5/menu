<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New China House</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="chinese-menu-border">
        <img class="logo" src="pics/Logo.png" alt="New China House logo"></img>
        <nav class="navbar">
            <ul>
                <li><a href="appetizers.html">Appetizers</a></li>
                <li><a href="lunch.html">Special Plates</a></li>
                <li><a href="combo.html">Combination Plates</a></li>
                <li><a href="rice.html">Fried Rice and Noodles</a></li>
                <li><a href="entree.html">Entrees</a></li>
                <li><a href="specialties.html">Chef's Specialties</a></li>
                <li><a href="catering.html">Catering</a></li>
            </ul>
        </nav>

        <main>
            <div id="info">357 Applgarth Road, <br>
                Monroe, NJ 08831 <br>
                (609) 395-9024 <br>
                (609) 395-9025 <br>
            </div>

            <div class="spacer"></div>

            <div id="info">Open 6 Days A Week <br>
                Monday to Saturdagy : 10:30 AM - 9 PM <br>
                Sunday Closed!
            </div>


            <img id="deliveryImage" src="pics/Delivery.png" alt="Delivery" class="scroll-img">


            <div id="popupOverlay" class="popup-overlay">
                <div class="popup-content">
                    <h2>We Deliver!</h2>
                    <p>Only <strong>$3 extra</strong> for delivery.</p>
                    <button id="closePopupBtn">OK</button>
                </div>
            </div>

            <div class="map">
                <h3>Our Location</h3>
                <div class="map-container">
                    <iframe
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3041.761339582267!2d-74.47230428882419!3d40.325453971335286!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c3d9177d7473b9%3A0x45c523df88c488ed!2sNew%20China%20House!5e0!3m2!1sen!2sus!4v1754543095168!5m2!1sen!2sus"
                        allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
                    </iframe>
                </div>
            </div>

            <div class="spacer"></div>

    </div>

    <div class="spacer"></div>

    <script>
        let imageHidden = false;
        let popupShown = false;

        const img = document.getElementById('deliveryImage');
        const closePopupBtn = document.getElementById('closePopupBtn');
        const popupOverlay = document.getElementById('popupOverlay');

        window.addEventListener('scroll', () => {
            const maxScroll = document.body.scrollHeight - window.innerHeight;
            const progress = window.scrollY / maxScroll;  // 0 â†’ 1 as you scroll down

            const maxLeft = window.innerWidth - img.offsetWidth;
            img.style.left = (progress * maxLeft) + 'px';

            // When it reaches the right edge, fade out + show popup
            if (progress >= 1 && !imageHidden) {
                img.style.opacity = '0';
                imageHidden = true;

                if (!popupShown) {
                    popupOverlay.classList.add('show-popup');
                    popupShown = true;
                }
            }
        });

        closePopupBtn.addEventListener('click', () => {
            popupOverlay.classList.remove('show-popup');
        });

        popupOverlay.addEventListener('click', (event) => {
            if (event.target === popupOverlay) {
                popupOverlay.classList.remove('show-popup');
            }
        });
    </script>

    </main>
    </div>
</body>

</html>